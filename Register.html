<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="icon" href="image1.png" />
  <title>అఖిల భారత చేనేత కార్మికుల సమాఖ్య</title>
</head>
<body>
  <!-- First Header -->
  <header class="first-header">  
    <a href="#">
      <img id="logo" src="image 1.png" alt="Company Logo">
    </a>
    <h1 class="banner">
      <img id="circle" src="./images/1.jpeg" alt="centered">
      ALL INDIA WEAVERS FEDERATION
    </h1>
  </header>

  <!-- Second Header -->
  <header class="second-header">
    <nav>
      <ul>
        <li><img src="./images/2.jpeg" alt=""></li>
        <li><img src="./images/3.jpeg" alt=""></li>
        <li><img src="./images/4.jpeg" alt=""></li>
        <li><img src="./images/5.jpeg" alt=""></li>
        <li><img src="./images/6.jpeg" alt=""></li>
        <li><img src="./images/7.jpeg" alt=""></li>
        <li><img src="./images/8.jpeg" alt=""></li>
        <li><img src="./images/9.jpeg" alt=""></li>
        <li><img src="./images/10.jpeg" alt=""></li>
      </ul>
    </nav>
  </header>

  <!-- Third Header (Navigation) -->
  <header class="three-header">
    <nav>
      <button onclick="showPage('Register')">Register / నమోదు చేసుకోండి</button>
      <button onclick="showPage('Art')">Art Craft / ఆర్ట్ క్రాఫ్ట్</button>
      <button onclick="showPage('News')">News / వార్తలు</button>
      <button onclick="showPage('about')">About us / మా గురించి</button>
      <button onclick="showPage('Events')">Events / ఈవెంట్స్</button>
    </nav>
  </header>

  <!-- Pages -->
  <main>
    <section id="Register" class="page active">
      <div class="container">
        <h2>అఖిల భారత చేనేత కార్మికుల సమాఖ్య సభ్యత్వ నమోదు ఫార్మ్</h2>
        <form id="registerForm" action="registrations.php" method="POST" enctype="multipart/form-data">
          <label for="name">పూర్తి పేరు</label>
          <input type="text" id="name" name="name" placeholder="మీ పూర్తిపేరు ఇవ్వండి" required>

          <label for="fathername">తండ్రి/తల్లి/భర్త పేరు</label>
          <input type="text" id="fathername" name="fathername" placeholder="తండ్రి పేరు నమోదు చేయండి">

          <label for="gender">లింగం</label>
          <select id="gender" name="gender" required>
            <option value="">ఎంచుకోండి</option>
            <option value="male">పురుషుడు</option>
            <option value="female">స్త్రీ</option>
            <option value="other">ఇతర</option>
          </select>

          <label for="dob">పుట్టిన తేదీ</label>
          <input type="date" id="dob" name="dob">

          <label for="contact">ఫోన్ నంబర్</label>
          <input type="tel" id="contact" name="contact" placeholder="ఫోన్ నంబర్ నమోదు చేయండి" required>

          <label for="address">చిరునామా</label>
          <textarea id="address" name="address" rows="3" placeholder="పూర్తి చిరునామా నమోదు చేయండి" required></textarea>

          <label for="dist_mandal">మండలం & జిల్లా</label>
          <textarea id="dist_mandal" name="dist_mandal" rows="2" placeholder="మండలం & జిల్లా" required></textarea>

          <label for="occupation">వృత్తి</label>
          <input type="text" id="occupation" name="occupation" placeholder="మీ వృత్తిని నమోదు చేయండి">

          <label for="membership">సభ్యత్వ రకం</label>
          <select id="membership" name="membership" required>
            <option value="">ఎంచుకోండి</option>
            <option value="regular">సాధారణ సభ్యుడు</option>
            <option value="executive">చాలా ముఖ్యమైన వ్యక్తి సభ్యుడు</option>
          </select>

          <label for="photo">ఫోటో అప్‌లోడ్ చేయండి</label>
          <input type="file" id="photo" name="photo">

          <button type="submit">నమోదు చేయండి</button>
        </form>
      </div>
    </section>

    <section id="Art" class="page">
      <h1>Art Craft / ఆర్ట్ క్రాఫ్ట్</h1>
      <p>This is the Art Craft section.</p>
    </section>

    <section id="News" class="page">
      <h1>News / వార్తలు</h1>
      <p>Details about News updated.</p>
    </section>

    <section id="about" class="page">
      <h1>About Us</h1>
      <p>Information about us.</p>
    </section>

    <section id="Events" class="page">
      <h1>Events / ఈవెంట్స్</h1>
      <p>Events details here.</p>
    </section>
  </main>

  <!-- Social Icons -->
  <div class="social-icons">
    <a href="https://wa.me/919876543210" target="_blank"><i class="fab fa-whatsapp"></i></a>
    <a href="https://facebook.com/yourpage" target="_blank" class="facebook"><i class="fab fa-facebook-f"></i></a>
  </div>

  <!-- JavaScript -->
  <script src="script.js"></script>
  <script>
    // Missing showPage() function is now defined
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => {
        page.classList.remove('active');
      });

      // Show the selected page
      const activePage = document.getElementById(pageId);
      if (activePage) {
        activePage.classList.add('active');
      }
    }

    const scriptURL = "https://script.google.com/macros/s/AKfycbxU0chw-cytE0g9QLhRlLcxhkcf4OFx3hcaQkab1adi7goY-Gx8f0-QdFfFH6xbKzap/exec";
    const form = document.getElementById("bjp-form"); // Using a new ID for clarity
    const responseMessage = document.getElementById("response");

    form.addEventListener("submit", e => {
      e.preventDefault();
      
      // Correctly create FormData from the form
      const formData = new FormData(form);

      // Display a loading message
      responseMessage.textContent = "Processing...";
      responseMessage.style.color = "blue";
      
      fetch(scriptURL, { method: "POST", body: formData })
        .then(response => {
          if (response.ok) {
            responseMessage.textContent = "విజయవంతంగా సమర్పించబడింది - Submitted Successfully!";
            responseMessage.style.color = "green";
            form.reset(); // Clear the form on success
          } else {
            throw new Error('Network response was not ok');
          }
        })
        .catch(error => {
          console.error("Error!", error.message);
          responseMessage.textContent = "పొరపాటు జరిగింది:";
          responseMessage.style.color = "red";
        });
    });
  </script>
</body>
</html>


